{"version":3,"file":"Prefetch.js","sourceRoot":"","sources":["Prefetch.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,OAAO,CAAC;AAExC,OAAO,EAAE,MAAM,EAAE,MAAM,kBAAkB,CAAC;AAC1C,OAAO,EAAE,qBAAqB,EAAE,MAAM,4BAA4B,CAAC;AAOnE;;GAEG;AACH,MAAM,UAAU,QAAQ,CAAC,KAAmB;IAC1C,MAAM,UAAU,GAAG,qBAAqB,EAAE,CAAC;IAE3C,eAAe,CAAC,GAAG,EAAE;QACnB,IAAI,UAAU,EAAE,SAAS,EAAE,EAAE,CAAC;YAC5B,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC;IACH,CAAC,EAAE,CAAC,UAAU,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;IAE7B,OAAO,IAAI,CAAC;AACd,CAAC","sourcesContent":["import { useLayoutEffect } from 'react';\n\nimport { router } from './imperative-api';\nimport { useOptionalNavigation } from './link/useLoadedNavigation';\nimport { Href } from './types';\n\nexport type PreloadProps = {\n  href: Href;\n};\n\n/**\n * When rendered on a focused screen, this component will preload the specified route.\n */\nexport function Prefetch(props: PreloadProps) {\n  const navigation = useOptionalNavigation();\n\n  useLayoutEffect(() => {\n    if (navigation?.isFocused()) {\n      router.prefetch(props.href);\n    }\n  }, [navigation, props.href]);\n\n  return null;\n}\n"]}